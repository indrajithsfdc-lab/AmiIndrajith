<script>
const noBtn = document.getElementById('noBtn');
const yesBtn = document.getElementById('yesBtn');
const initialContent = document.getElementById('initialContent');
const messageBox = document.getElementById('messageBox');
const timerDisplay = document.getElementById('timerDisplay');

let timeLeft = 5;
let moved = false;

// Countdown timer
const countdown = setInterval(() => {
    if (moved) return;

    timeLeft--;
    timerDisplay.innerHTML = `Deciding in ${timeLeft}s...`;

    if (timeLeft <= 0) {
        handleYes(); // auto move after 5s
    }
}, 1000);

function handleYes() {
    if (moved) return;
    moved = true;

    clearInterval(countdown); // stop timer
    initialContent.style.display = 'none';
    messageBox.style.display = 'block';

    setInterval(createFallItem, 250);
}

// NO button movement only
function moveButton() {
    const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
    const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);

    noBtn.style.position = 'fixed';
    noBtn.style.left = x + 'px';
    noBtn.style.top = y + 'px';
}

noBtn.addEventListener('mouseover', moveButton);
noBtn.addEventListener('touchstart', e => {
    e.preventDefault();
    moveButton();
});

// YES click â†’ immediate move
yesBtn.addEventListener('click', handleYes);

function createFallItem() {
    const item = document.createElement('div');
    item.className = 'fall-item';

    const emojis = ['â¤ï¸','ðŸ’‹','ðŸŒ¸','ðŸŒ¹','ðŸ’','âœ¨'];
    item.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];

    item.style.left = Math.random() * 100 + 'vw';
    item.style.fontSize = (Math.random() * 22 + 18) + 'px';
    item.style.animationDuration = (Math.random() * 2 + 3) + 's';

    document.body.appendChild(item);
    setTimeout(() => item.remove(), 5000);
}
</script>
